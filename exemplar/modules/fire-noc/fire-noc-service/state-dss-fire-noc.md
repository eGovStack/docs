---
description: Technical Doc
---

# State DSS - Fire NOC

**FireNoc-State DSS Documentation**

DSS has two sides to it. One being the process in which the Data is pooled to ElasticSearch and the other being the way it is fetched, aggregated, computed, transformed and sent across.

As this revolves around a variety of Data Set, there is a need for making this configurable. So that, tomorrow, given a new scenario is introduced, then it is just a configuration away from getting the newly introduced scenario involved in this flow of process.&#x20;

This document explains the steps on how to define the configurations for Analytics Side Of DSS for FireNoc.

&#x20;

**What is analytics?**

**Analytics :** Micro Service which is responsible for building, fetching, aggregating and computing the Data on ElasticSearch to a consumable Data Response. Which shall be later used for visualizations and graphical representations.&#x20;

**Analytics Configurations:**\
Analytics contains multiple configurations. we need to add the changes related to firenoc in this dashboard-analytics.\
Here is the location : [![](https://github.com/fluidicon.png)configs/egov-dss-dashboards/dashboard-analytics at qa Â· egovernments/configs](https://github.com/egovernments/configs/tree/qa/egov-dss-dashboards/dashboard-analytics)\
Below is a list of configurations that need to be changed to run firenoc successfully.

1. Chart API Configuration
2. Master Dashboard Configuration
3. Role Dashboard Mappings Configuration

#### **Description :** <a href="#description" id="description"></a>

**Chart API Configuration :**&#x20;

Each Visualization has its own properties. Each Visualization comes from different data sources (Sometimes it is a combination of different data sources)&#x20;

In order to configure each visualization and their properties, we have a Chart API Configuration Document.

In this, Visualization Code, which happens to be the key, will be having its properties configured as a part of configuration and are easily changeable.

&#x20;

Here is the sample ChartApiConfiguration.json data for the FireNoc.

`1"nocTodaysCollection": { 2 "chartName": "DSS_NOC_TODAYS_COLLECTION", 3 "queries": [ 4 { 5 "module": "FIRENOC", 6 "indexName": "dss-collection_v2", 7 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}},{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gte\":\"now-24h\",\"lte\":\"now\"}}}],\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"dataObject.paymentStatus.keyword\":\"Cancelled\"}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}", 8 "requestQueryMap": "{\"wardId\" : \"dataObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.city.districtCode\" }", 9 "dateRefField": "" 10 } 11 ], 12 "chartType": "metric", 13 "valueType": "amount", 14 "action": "", 15 "drillChart": "none", 16 "aggregationPaths": [ 17 "Todays Collection" 18 ], 19 "insight": { 20 }, 21 "_comment": "FIRE NOC todays collections " 22 }, 23 24 "nocTotalCollection": { 25 "chartName": "DSS_NOC_TOTAL_COLLECTION", 26 "queries": [ 27 { 28 "module": "FIRENOC", 29 "indexName": "dss-collection_v2", 30 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}}],\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"dataObject.paymentStatus.keyword\":\"Cancelled\"}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}", 31 "requestQueryMap": "{\"wardId\" : \"dataObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.city.districtCode\" }", 32 "dateRefField": "dataObject.paymentDetails.receiptDate" 33 } 34 ], 35 "chartType": "metric", 36 "valueType": "amount", 37 "action": "", 38 "drillChart": "none", 39 "aggregationPaths": [ 40 "Total Collection" 41 ], 42 "insight": { 43 "chartResponseMap" : "nocTotalCollection", 44 "action" : "differenceOfNumbers", 45 "upwardIndicator" : "positive", 46 "downwardIndicator" : "negative", 47 "textMessage" : "$indicator$value% than last $insightInterval", 48 "colorCode" : "#228B22", 49 "insightInterval" : "year", 50 "isRoundOff": true 51 }, 52 "_comment": "FIRE NOC total collections " 53 }, 54 55 "nocTotalApplications": { 56 "chartName": "DSS_NOC_TOTAL_APPLICATIONS", 57 "queries": [ 58 { 59 "module": "FIRENOC", 60 "indexName": "firenoc-services", 61 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Applications\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}", 62 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 63 "dateRefField": "Data.auditDetails.createdTime" 64 } 65 ], 66 "chartType": "metric", 67 "valueType": "number", 68 "action": "", 69 "drillChart": "none", 70 "aggregationPaths": [ 71 "Total Applications" 72 ], 73 "insight": { 74 "chartResponseMap" : "nocTotalApplications", 75 "action" : "differenceOfNumbers", 76 "upwardIndicator" : "positive", 77 "downwardIndicator" : "negative", 78 "textMessage" : "$indicator$value% than last $insightInterval", 79 "colorCode" : "#228B22", 80 "insightInterval" : "year" 81 }, 82 "_comment": "FIRE NOC total applications " 83 }, 84 85 "nocProvisionalIssued": { 86 "chartName": "DSS_NOC_PROVISIONAL_ISSUED", 87 "queries": [ 88 { 89 "module": "FIRENOC", 90 "indexName": "firenoc-services", 91 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Provisional Fire Nocs issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}}]}}}}}}}", 92 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 93 "dateRefField": "Data.auditDetails.createdTime" 94 } 95 ], 96 "chartType": "metric", 97 "valueType": "number", 98 "action": "", 99 "drillChart": "none", 100 "aggregationPaths": [ 101 "Provisional Fire Nocs issued" 102 ], 103 "insight": { 104 "chartResponseMap" : "nocProvisionalIssued", 105 "action" : "differenceOfNumbers", 106 "upwardIndicator" : "positive", 107 "downwardIndicator" : "negative", 108 "textMessage" : "$indicator$value% than last $insightInterval", 109 "colorCode" : "#228B22", 110 "insightInterval" : "year" 111 }, 112 "_comment": "FIRE NOC Provisional Issued" 113 }, 114 115 "nocActualIssued": { 116 "chartName": "DSS_NOC_ACTUAL_ISSUED", 117 "queries": [ 118 { 119 "module": "FIRENOC", 120 "indexName": "firenoc-services", 121 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Actual Fire Nocs issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}}}}}}}", 122 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 123 "dateRefField": "Data.auditDetails.createdTime" 124 } 125 ], 126 "chartType": "metric", 127 "valueType": "number", 128 "action": "", 129 "drillChart": "none", 130 "aggregationPaths": [ 131 "Actual Fire Nocs issued" 132 ], 133 "insight": { 134 "chartResponseMap" : "nocActualIssued", 135 "action" : "differenceOfNumbers", 136 "upwardIndicator" : "positive", 137 "downwardIndicator" : "negative", 138 "textMessage" : "$indicator$value% than last $insightInterval", 139 "colorCode" : "#228B22", 140 "insightInterval" : "year" 141 }, 142 "_comment": "Actual fire nocs Issued" 143 }, 144 145 "nocAverageDaysToIssueProvisional": { 146 "chartName": "DSS_NOC_AVERAGE_DAYS_TO_ISSUE_PROVISIONAL", 147 "queries": [ 148 { 149 "module": "FIRENOC", 150 "indexName": "firenoc-services", 151 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Average days to issue Provisional NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}}}}}}", 152 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 153 "dateRefField": "Data.auditDetails.createdTime" 154 } 155 ], 156 "chartType": "metric", 157 "valueType": "number", 158 "action": "", 159 "drillChart": "none", 160 "aggregationPaths": [ 161 "Average days to issue Provisional NOC" 162 ], 163 "insight": { 164 "chartResponseMap" : "nocAvgDayToIssueProvisional", 165 "action" : "differenceOfNumbers", 166 "upwardIndicator" : "positive", 167 "downwardIndicator" : "negative", 168 "textMessage" : "$indicator$value% than last $insightInterval", 169 "colorCode" : "#228B22", 170 "insightInterval" : "year" 171 }, 172 "_comment": "FIRE Avg. days to issue Provisional" 173 }, 174 175 "nocSLAComplianceProvisional": { 176 "chartName": "DSS_NOC_SLA_COMPLIANCE_PROVISIONAL", 177 "queries": [ 178 { 179 "module": "FIRENOC", 180 "indexName": "firenoc-services", 181 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"SLA Compliance (Provisional NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}}}}}}", 182 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 183 "dateRefField": "Data.auditDetails.createdTime" 184 } 185 ], 186 "chartType": "metric", 187 "valueType": "percentage", 188 "action": "percentage", 189 "drillChart": "none", 190 "aggregationPaths": [ 191 "SLA Compliance (Provisional NOC)" 192 ], 193 "insight": { 194 "chartResponseMap" : "slaCompliance", 195 "action" : "differenceOfNumbers", 196 "upwardIndicator" : "positive", 197 "downwardIndicator" : "negative", 198 "textMessage" : "$indicator$value% than last $insightInterval", 199 "colorCode" : "#228B22", 200 "insightInterval" : "year" 201 }, 202 "_comment": "FIRE NOC SLA Compliance Provisional" 203 }, 204 205 "nocAverageDaysToIssueActual": { 206 "chartName": "DSS_NOC_AVERAGE_DAYS_TO_ISSUE_ACTUAL", 207 "queries": [ 208 { 209 "module": "FIRENOC", 210 "indexName": "firenoc-services", 211 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Average days to issue Actual NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}}}}}}", 212 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 213 "dateRefField": "Data.auditDetails.createdTime" 214 } 215 ], 216 "chartType": "metric", 217 "valueType": "number", 218 "action": "", 219 "drillChart": "none", 220 "aggregationPaths": [ 221 "Average days to issue Actual NOC" 222 ], 223 "insight": { 224 "chartResponseMap" : "nocAvgDayToIssueActual", 225 "action" : "differenceOfNumbers", 226 "upwardIndicator" : "positive", 227 "downwardIndicator" : "negative", 228 "textMessage" : "$indicator$value% than last $insightInterval", 229 "colorCode" : "#228B22", 230 "insightInterval" : "year" 231 }, 232 "_comment": "FIRE Avg. days to issue Actual" 233 }, 234 235 "nocSLAComplianceActual": { 236 "chartName": "DSS_NOC_SLA_COMPLIANCE_ACTUAL", 237 "queries": [ 238 { 239 "module": "FIRENOC", 240 "indexName": "firenoc-services", 241 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"SLA Compliance (Actual NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}}}}}}", 242 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 243 "dateRefField": "Data.auditDetails.createdTime" 244 } 245 ], 246 "chartType": "metric", 247 "valueType": "percentage", 248 "action": "percentage", 249 "drillChart": "none", 250 "aggregationPaths": [ 251 "SLA Compliance (Actual NOC)" 252 ], 253 "insight": { 254 "chartResponseMap" : "slaCompliance", 255 "action" : "differenceOfNumbers", 256 "upwardIndicator" : "positive", 257 "downwardIndicator" : "negative", 258 "textMessage" : "$indicator$value% than last $insightInterval", 259 "colorCode" : "#228B22", 260 "insightInterval" : "year" 261 }, 262 "_comment": "FIRE NOC SLA Compliance Actual" 263 }, 264 "nocCumulativeCollection": { 265 "chartName": "DSS_NOC_TOTAL_CUMULATIVE_COLLECTION", 266 "queries": [ 267 { 268 "module": "FIRENOC", 269 "dateRefField": "dataObject.paymentDetails.receiptDate", 270 "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n \"module\" : \"dataObject.paymentDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}", 271 "indexName": "dss-collection_v2", 272 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}}],\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"NOC Cumulative Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}}}" 273 } 274 ], 275 "chartType": "line", 276 "valueType": "amount", 277 "action": "", 278 "drillChart": "none", 279 "documentType": "_doc", 280 "aggregationPaths": [ 281 "NOC Cumulative Collections" 282 ], 283 "isCumulative": true, 284 "interval": "month", 285 "insight": {}, 286 "_comment": "" 287 }, 288 289 "nocCollectionByPaymentMode": { 290 "chartName": "DSS_NOC_COLLECTION_BY_PAYMENT_MODE", 291 "queries": [ 292 { 293 "module": "FIRENOC", 294 "requestQueryMap": "{\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}", 295 "dateRefField": "dataObject.paymentDetails.receiptDate", 296 "indexName": "dss-collection_v2", 297 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}}],\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"NOC Payment Mode\":{\"terms\":{\"field\":\"dataObject.paymentMode.keyword\"},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}}}" 298 } 299 ], 300 "chartType": "pie", 301 "valueType": "amount", 302 "action": "", 303 "documentType": "_doc", 304 "drillChart": "none", 305 "aggregationPaths": [ 306 "NOC Payment Mode" 307 ], 308 "insight": {}, 309 "_comment": "" 310 }, 311 "nocActualTopPerformingUlbs": { 312 "chartName": "DSS_NOC_ACTUAL_TOP_3_PERFORMING_ULBS", 313 "queries": [ 314 { 315 "module": "FIRENOC", 316 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 317 "dateRefField": "Data.auditDetails.createdTime", 318 "indexName": "firenoc-services", 319 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"desc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 320 }, 321 { 322 "module": "FIRENOC", 323 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 324 "dateRefField": "Data.auditDetails.createdTime", 325 "indexName": "firenoc-services", 326 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}},\"aggs\":{\"Actual NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"desc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 327 } 328 ], 329 "chartType": "perform", 330 "valueType": "percentage", 331 "drillChart": "none", 332 "documentType": "_doc", 333 "action": "percentage", 334 "plotLabel": "Actual", 335 "order": "desc", 336 "limit": 3, 337 "aggregationPaths": [ 338 "Actual NOCs issued", 339 "Total NOCs issued" 340 ], 341 "insight": { 342 }, 343 "_comment": "Top Performing Ulbs for actual nocs issued" 344 }, 345 346 "nocProvisionalTopPerformingUlbs": { 347 "chartName": "DSS_NOC_PROVISIONAL_TOP_3_PERFORMING_ULBS", 348 "queries": [ 349 { 350 "module": "FIRENOC", 351 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 352 "dateRefField": "Data.auditDetails.createdTime", 353 "indexName": "firenoc-services", 354 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"desc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 355 }, 356 { 357 "module": "FIRENOC", 358 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 359 "dateRefField": "Data.auditDetails.createdTime", 360 "indexName": "firenoc-services", 361 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}}]}},\"aggs\":{\"Provisional NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"desc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 362 } 363 ], 364 "chartType": "perform", 365 "valueType": "percentage", 366 "drillChart": "none", 367 "documentType": "_doc", 368 "action": "percentage", 369 "plotLabel": "Provisional", 370 "order": "desc", 371 "limit": 3, 372 "aggregationPaths": [ 373 "Provisional NOCs issued", 374 "Total NOCs issued" 375 ], 376 "insight": { 377 }, 378 "_comment": "Top Performing Ulbs for provisional nocs issued" 379 }, 380 381 "nocActualBottomPerformingUlbs": { 382 "chartName": "DSS_NOC_ACTUAL_BOTTOM_3_PERFORMING_ULBS", 383 "queries": [ 384 { 385 "module": "FIRENOC", 386 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 387 "dateRefField": "Data.auditDetails.createdTime", 388 "indexName": "firenoc-services", 389 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"asc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 390 }, 391 { 392 "module": "FIRENOC", 393 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 394 "dateRefField": "Data.auditDetails.createdTime", 395 "indexName": "firenoc-services", 396 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}},\"aggs\":{\"Actual NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"asc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 397 } 398 ], 399 "chartType": "perform", 400 "valueType": "percentage", 401 "drillChart": "none", 402 "documentType": "_doc", 403 "action": "percentage", 404 "plotLabel": "Actual", 405 "order": "asc", 406 "limit": 3, 407 "aggregationPaths": [ 408 "Actual NOCs issued", 409 "Total NOCs issued" 410 ], 411 "insight": { 412 }, 413 "_comment": "Bottom Performing Ulbs for actual nocs issued" 414 }, 415 416 "nocProvisionalBottomPerformingUlbs": { 417 "chartName": "DSS_NOC_PROVISIONAL_BOTTOM_3_PERFORMING_ULBS", 418 "queries": [ 419 { 420 "module": "FIRENOC", 421 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 422 "dateRefField": "Data.auditDetails.createdTime", 423 "indexName": "firenoc-services", 424 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"asc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 425 }, 426 { 427 "module": "FIRENOC", 428 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 429 "dateRefField": "Data.auditDetails.createdTime", 430 "indexName": "firenoc-services", 431 "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}}]}},\"aggs\":{\"Provisional NOCs issued\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"NOCs\":\"asc\"}},\"aggs\":{\"NOCs\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}" 432 } 433 ], 434 "chartType": "perform", 435 "valueType": "percentage", 436 "drillChart": "none", 437 "documentType": "_doc", 438 "action": "percentage", 439 "plotLabel": "Provisional", 440 "order": "asc", 441 "limit": 3, 442 "aggregationPaths": [ 443 "Provisional NOCs issued", 444 "Total NOCs issued" 445 ], 446 "insight": { 447 }, 448 "_comment": "Bottom Performing Ulbs for provisional nocs issued" 449 }, 450 "totalNocIssuedByType": { 451 "chartName": "DSS_TOTAL_NOC_ISSUED_TYPE", 452 "queries": [ 453 { 454 "module": "FIRENOC", 455 "indexName": "firenoc-services", 456 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\": {\"fireNOC Issued\": {\"terms\": {\"field\": \"Data.fireNOCDetails.fireNOCType.keyword\"},\"aggs\": {\"total_nocs_by_type\": {\"cardinality\": {\"field\": \"_id\"}}}}}}}}", 457 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 458 "dateRefField": "Data.auditDetails.createdTime" 459 } 460 ], 461 "chartType": "pie", 462 "valueType": "number", 463 "action": "", 464 "documentType": "_doc", 465 "drillChart": "none", 466 "aggregationPaths": [ 467 "fireNOC Issued" 468 ], 469 "insight": { 470 }, 471 "_comment": "Total NOCs issued by Type" 472 }, 473 "actualNocIssuedByUsageType": { 474 "chartName": "DSS_ACTUAL_NOC_ISSUED_USAGETYPE", 475 "queries": [ 476 { 477 "module": "FIRENOC", 478 "indexName": "firenoc-services", 479 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}},\"aggs\":{\"actualNOC Issued\":{\"terms\":{\"field\":\"Data.fireNOCDetails.buildings.usageType.keyword\"},\"aggs\":{\"actual_nocs_by_usagetype\":{\"cardinality\":{\"field\":\"_id\"}}}}}}}}", 480 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" \r\n}", 481 "dateRefField": "Data.auditDetails.createdTime" 482 } 483 ], 484 "chartType": "pie", 485 "valueType": "number", 486 "action": "", 487 "documentType": "_doc", 488 "drillChart": "none", 489 "aggregationPaths": [ 490 "actualNOC Issued" 491 ], 492 "insight": { 493 }, 494 "_comment": "Actual NOCs Issued by usageType." 495 }, 496 497 498 "nocServiceReportByRegion": { 499 "chartName": "DSS_NOC_SERVICE_REPORT_REGION", 500 "queries": [ 501 { 502 "module": "COMMON", 503 "requestQueryMap": "{\"wardId\" : \"dataObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.city.districtCode\" }", 504 "dateRefField": "dataObject.paymentDetails.receiptDate", 505 "indexName": "dss-collection_v2", 506 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}}]}},\"aggs\":{\"firenoc_Total_Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}" 507 }, 508 { 509 "module": "COMMON", 510 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 511 "dateRefField": "Data.auditDetails.createdTime", 512 "indexName": "firenoc-services", 513 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total_Applications\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}},\"Provisional_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}}]}}},\"Actual_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}}},\"Average_days_to_issue_Provisional_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"Average_days_to_issue_Actual_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"SLA_Compliance(Actual_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}},\"SLA_Compliance(Provisional_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}}}}}}" 514 } 515 ], 516 "isMdmsEnabled": true, 517 "filterKeys": [ 518 {"key": "tenantId", "column": "Region"} 519 ], 520 "chartType": "xtable", 521 "valueType": "number", 522 "action": "", 523 "plotLabel": "Region", 524 "isPostResponseHandler": true, 525 "postAggregationTheory" : "repsonseToDifferenceOfDates", 526 "documentType": "_doc", 527 "drillChart": "nocServiceReportDrillDown", 528 "aggregationPaths": [ 529 "firenoc_Total_Collection", 530 "Total_Applications", 531 "Provisional_Fire_Nocs_issued", 532 "Actual_Fire_Nocs_issued", 533 "Average_days_to_issue_Provisional_NOC", 534 "SLA_Compliance(Provisional_NOC)", 535 "Average_days_to_issue_Actual_NOC", 536 "SLA_Compliance(Actual_NOC)" 537 ], 538 "pathDataTypeMapping": [ 539 { 540 "firenoc_Total_Collection": "amount" 541 }, 542 { 543 "Total_Applications": "number" 544 }, 545 { 546 "Provisional_Fire_Nocs_issued": "number" 547 }, 548 { 549 "Actual_Fire_Nocs_issued": "number" 550 }, 551 { 552 "Average_days_to_issue_Provisional_NOC": "number" 553 }, 554 { 555 "SLA_Compliance(Provisional_NOC)": "number" 556 }, 557 { 558 "Average_days_to_issue_Actual_NOC": "number" 559 }, 560 { 561 "SLA_Compliance(Actual_NOC)": "number" 562 } 563 ], 564 "insight": { 565 }, 566 "_comment": "" 567 }, 568 569 "nocServiceReportDrillDown": { 570 "chartName": "DSS_NOC_SERVICE_REPORT_BOUNDRY", 571 "queries": [ 572 { 573 "module": "COMMON", 574 "requestQueryMap": "{\"wardId\" : \"dataObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"tenantId\" : \"dataObject.tenantId\", \"ulbId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.city.districtCode\" }", 575 "dateRefField": "dataObject.paymentDetails.receiptDate", 576 "indexName": "dss-collection_v2", 577 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}}]}},\"aggs\":{\"ULBs\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":1000},\"aggs\":{\"firenoc_Total_Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}}}" 578 }, 579 { 580 "module": "COMMON", 581 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"ulbId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 582 "dateRefField": "Data.auditDetails.createdTime", 583 "indexName": "firenoc-services", 584 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Total_Applications\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}},\"Provisional_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}}]}}},\"Actual_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}}},\"Average_days_to_issue_Provisional_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"Average_days_to_issue_Actual_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"SLA_Compliance(Actual_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}},\"SLA_Compliance(Provisional_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}}}}}}}}" 585 } 586 ], 587 "filterKeys": [ 588 {"key": "tenantId", "column": "ULBs"} 589 ], 590 "chartType": "xtable", 591 "valueType": "number", 592 "drillChart": "nocServiceReportBoundaryDrillDown", 593 "documentType": "_doc", 594 "action": "", 595 "plotLabel": "ULBs", 596 "postAggregationTheory" : "repsonseToDifferenceOfDates", 597 "aggregationPaths": [ 598 "firenoc_Total_Collection", 599 "Total_Applications", 600 "Provisional_Fire_Nocs_issued", 601 "Actual_Fire_Nocs_issued", 602 "Average_days_to_issue_Provisional_NOC", 603 "SLA_Compliance(Provisional_NOC)", 604 "Average_days_to_issue_Actual_NOC", 605 "SLA_Compliance(Actual_NOC)" 606 ], 607 "pathDataTypeMapping": [ 608 { 609 "firenoc_Total_Collection": "amount" 610 }, 611 { 612 "Total_Applications": "number" 613 }, 614 { 615 "Provisional_Fire_Nocs_issued": "number" 616 }, 617 { 618 "Actual_Fire_Nocs_issued": "number" 619 }, 620 { 621 "Average_days_to_issue_Provisional_NOC": "number" 622 }, 623 { 624 "SLA_Compliance(Provisional_NOC)": "number" 625 }, 626 { 627 "Average_days_to_issue_Actual_NOC": "number" 628 }, 629 { 630 "SLA_Compliance(Actual_NOC)": "number" 631 } 632 ], 633 "insight": { 634 }, 635 "_comment": " " 636 }, 637 638 "nocServiceReportBoundaryDrillDown": { 639 "kind": "drillDown", 640 "chartName": "Boundary", 641 "queries": [ 642 { 643 "module": "COMMON", 644 "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"tenantId\" : \"dataObject.tenantId\", \"ulbId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.city.districtCode\" }", 645 "dateRefField": "dataObject.paymentDetails.receiptDate", 646 "indexName": "dss-collection_v2", 647 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"firenoc_Total_Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}}}" 648 }, 649 { 650 "module": "COMMON", 651 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\", \"ulbId\" : \"Data.tenantId\", \"district\" : \"Data.tenantData.city.districtCode\"}", 652 "dateRefField": "Data.auditDetails.createdTime", 653 "indexName": "firenoc-services", 654 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total_Applications\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}},\"Provisional_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}}]}}},\"Actual_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}}},\"Average_days_to_issue_Provisional_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"Average_days_to_issue_Actual_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"SLA_Compliance(Actual_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}},\"SLA_Compliance(Provisional_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}}}}}}}}" 655 } 656 ], 657 "filterKeys": [ 658 {"key": "wardId", "column": "Ward"}, 659 {"key": "ulbId", "column": "ULB"} 660 ], 661 "chartType": "table", 662 "valueType": "number", 663 "drillChart": "none", 664 "documentType": "_doc", 665 "action": "", 666 "plotLabel": "Ward", 667 "aggregationPaths": [ 668 "firenoc_Total_Collection", 669 "Total_Applications", 670 "Provisional_Fire_Nocs_issued", 671 "Actual_Fire_Nocs_issued", 672 "Average_days_to_issue_Provisional_NOC", 673 "SLA_Compliance(Provisional_NOC)", 674 "Average_days_to_issue_Actual_NOC", 675 "SLA_Compliance(Actual_NOC)" 676 ], 677 "pathDataTypeMapping": [ 678 { 679 "firenoc_Total_Collection": "amount" 680 }, 681 { 682 "Total_Applications": "number" 683 }, 684 { 685 "Provisional_Fire_Nocs_issued": "number" 686 }, 687 { 688 "Actual_Fire_Nocs_issued": "number" 689 }, 690 { 691 "Average_days_to_issue_Provisional_NOC": "number" 692 }, 693 { 694 "SLA_Compliance(Provisional_NOC)": "number" 695 }, 696 { 697 "Average_days_to_issue_Actual_NOC": "number" 698 }, 699 { 700 "SLA_Compliance(Actual_NOC)": "number" 701 } 702 ], 703 "insight": { 704 }, 705 "_comment": " " 706 }, 707 708 "nocServiceReportByDepartment": { 709 "chartName": "DSS_NOC_SERVICE_REPORT_DEPARTMENT", 710 "queries": [ 711 { 712 "module": "COMMON", 713 "requestQueryMap": "{\"wardId\" : \"dataObject.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId.keyword\"}", 714 "dateRefField": "dataObject.paymentDetails.receiptDate", 715 "indexName": "dss-collection_v2", 716 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"FIRENOC\"]}}]}},\"aggs\":{\"Department\":{\"terms\":{\"field\":\"domainObject.Department.keyword\",\"size\":1000},\"aggs\":{\"firenoc_Total_Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.totalAmountPaid\"}}}}}}}}" 717 }, 718 { 719 "module": "COMMON", 720 "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId.keyword\"}", 721 "indexName": "firenoc-services", 722 "dateRefField": "Data.auditDetails.createdTime", 723 "aggrQuery": "{\"aggs\":{\"FireNOC\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Department\":{\"terms\":{\"field\":\"Data.Department.keyword\",\"size\":1000},\"aggs\":{\"Total_Applications\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}},\"Provisional_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}}]}}},\"Actual_Fire_Nocs_issued\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}}]}}},\"Average_days_to_issue_Provisional_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"Average_days_to_issue_Actual_NOC\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"average_days\":{\"avg\":{\"script\":{\"source\":\"(doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value)\/(86400*1000)\"}}}}},\"SLA_Compliance(Actual_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"NEW\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}},\"SLA_Compliance(Provisional_NOC)\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.fireNOCDetails.fireNOCType.keyword\":\"PROVISIONAL\"}},{\"term\":{\"Data.fireNOCDetails.status.keyword\":\"APPROVED\"}},{\"script\":{\"script\":{\"source\":\"doc['Data.auditDetails.lastModifiedTime'].value-doc['Data.auditDetails.createdTime'].value<params.threshold\",\"lang\":\"painless\",\"params\":{\"threshold\":172800000}}}}]}}}}}}}}}" 724 } 725 ], 726 "filterKeys": [ 727 {"key": "tenantId", "column": "Department"} 728 ], 729 "chartType": "table", 730 "valueType": "number", 731 "drillChart": "none", 732 "documentType": "_doc", 733 "plotLabel": "firenoc_Department", 734 "aggregationPaths": [ 735 "firenoc_Total_Collection", 736 "Total_Applications", 737 "Provisional_Fire_Nocs_issued", 738 "Actual_Fire_Nocs_issued", 739 "Average_days_to_issue_Provisional_NOC", 740 "SLA_Compliance(Provisional_NOC)", 741 "Average_days_to_issue_Actual_NOC", 742 "SLA_Compliance(Actual_NOC)" 743 ], 744 "pathDataTypeMapping": [ 745 { 746 "firenoc_Total_Collection": "amount" 747 }, 748 { 749 "Total_Applications": "number" 750 }, 751 { 752 "Provisional_Fire_Nocs_issued": "number" 753 }, 754 { 755 "Actual_Fire_Nocs_issued": "number" 756 }, 757 { 758 "Average_days_to_issue_Provisional_NOC": "number" 759 }, 760 { 761 "SLA_Compliance(Provisional_NOC)": "number" 762 }, 763 { 764 "Average_days_to_issue_Actual_NOC": "number" 765 }, 766 { 767 "SLA_Compliance(Actual_NOC)": "number" 768 } 769 ], 770 "insight": { 771 }, 772 "_comment": "" 773 },`

[Click here to check the complete configuration](https://github.com/egovernments/configs/blob/qa/egov-dss-dashboards/dashboard-analytics/ChartApiConfig.json)

**Master Dashboard Configuration:**

Master Dashboard Configuration is the main configuration which defines as which are the Dashboards which are to be painted on screen.&#x20;

It includes all the Visualizations, their groups, the charts which comes within them and even their dimensions as what should be their height and width.

`1 { 2 "name": "DSS_FIRE_NOC_DASHBOARD", 3 "id": "noc", 4 "isActive": "", 5 "style": "linear", 6 "visualizations": [ 7 { 8 "row": 1, 9 "name": "DSS_OVERVIEW", 10 "vizArray": [ 11 { 12 "id": 341, 13 "name": "DSS_NOC_REVENUE", 14 "dimensions": { 15 "height": 400, 16 "width": 5 17 }, 18 "vizType": "metric-collection", 19 "label": "DSS_NOC_REVENUE", 20 "noUnit": true, 21 "isCollapsible": false, 22 "charts": [ 23 { 24 "id": "nocTodaysCollection", 25 "name": "DSS_NOC_TODAYS_COLLECTION", 26 "code": "", 27 "chartType": "metric", 28 "filter": { 29 "title": "TODAY" 30 }, 31 "headers": [] 32 }, 33 { 34 "id": "nocTotalCollection", 35 "name": "DSS_NOC_TOTAL_COLLECTION", 36 "code": "", 37 "chartType": "metric", 38 "filter": "", 39 "headers": [] 40 } 41 ] 42 }, 43 { 44 "id": 342, 45 "name": "DSS_NOC_TOTAL_CUMULATIVE_COLLECTION", 46 "dimensions": { 47 "height": 190, 48 "width": 7 49 }, 50 "vizType": "chart", 51 "label": "", 52 "noUnit": true, 53 "isCollapsible": false, 54 "charts": [ 55 { 56 "id": "nocCumulativeCollection", 57 "name": "Monthly", 58 "code": "", 59 "chartType": "line", 60 "filter": "", 61 "headers": [] 62 } 63 ] 64 } 65 ] 66 }, 67 { 68 "row": 2, 69 "name": "DSS_OVERVIEW", 70 "vizArray": [ 71 { 72 "id": 341, 73 "name": "DSS_NOC_OVERVIEW", 74 "dimensions": { 75 "height": 400, 76 "width": 5 77 }, 78 "vizType": "metric-collection", 79 "label": "DSS_NOC_OVERVIEW", 80 "noUnit": true, 81 "isCollapsible": false, 82 "charts": [ 83 { 84 "id": "nocTotalApplications", 85 "name": "DSS_NOC_TOTAL_APPLICATIONS", 86 "code": "", 87 "chartType": "metric", 88 "filter": "", 89 "headers": [] 90 }, 91 { 92 "id": "nocProvisionalIssued", 93 "name": "DSS_NOC_PROVISIONAL_ISSUED", 94 "code": "", 95 "chartType": "metric", 96 "filter": "", 97 "headers": [] 98 }, 99 { 100 "id": "nocActualIssued", 101 "name": "DSS_NOC_ACTUAL_ISSUED", 102 "code": "", 103 "chartType": "metric", 104 "filter": "", 105 "headers": [] 106 }, 107 { 108 "id": "nocSLAComplianceProvisional", 109 "name": "DSS_NOC_SLA_COMPLIANCE_PROVISIONAL", 110 "code": "", 111 "chartType": "metric", 112 "filter": "", 113 "headers": [] 114 }, 115 { 116 "id": "nocSLAComplianceActual", 117 "name": "DSS_NOC_SLA_COMPLIANCE_ACTUAL", 118 "code": "", 119 "chartType": "metric", 120 "filter": "", 121 "headers": [] 122 } 123 ] 124 }, 125 { 126 "id": 343, 127 "name": "DSS_APPLICATION_VS_PROVISIONAL_VS_ACTUAL", 128 "dimensions": { 129 "height": 190, 130 "width": 7 131 }, 132 "vizType": "chart", 133 "isCollapsible": false, 134 "label": "", 135 "charts": [ 136 { 137 "id": "nocApplicationVsProvisionalVsActual", 138 "name": "Monthly", 139 "code": "", 140 "chartType": "line", 141 "filter": "", 142 "headers": [] 143 } 144 ] 145 } 146 ] 147 }, 148 { 149 "row": 3, 150 "name": "DSS_OVERVIEW", 151 "vizArray": [ 152 { 153 "id": 210, 154 "name": "DSS_NOC_COLLECTION_BY_PAYMENT_MODE", 155 "dimensions": { 156 "height": 250, 157 "width": 4 158 }, 159 "vizType": "chart", 160 "label": "", 161 "noUnit": false, 162 "isCollapsible": false, 163 "charts": [ 164 { 165 "id": "nocCollectionByPaymentMode", 166 "name": "DSS_NOC_COLLECTION_BY_PAYMENT_MODE", 167 "code": "", 168 "chartType": "donut", 169 "filter": "", 170 "headers": [] 171 } 172 ] 173 }, 174 { 175 "id": 211, 176 "name": "DSS_TOTAL_NOC_ISSUED_TYPE", 177 "dimensions": { 178 "height": 250, 179 "width": 4 180 }, 181 "vizType": "chart", 182 "noUnit": false, 183 "isCollapsible": false, 184 "charts": [ 185 { 186 "id": "totalNocIssuedByType", 187 "name": "DSS_TOTAL_NOC_ISSUED_TYPE", 188 "code": "", 189 "chartType": "donut", 190 "filter": "", 191 "headers": [] 192 } 193 ] 194 }, 195 { 196 "id": 212, 197 "name": "DSS_ACTUAL_NOC_ISSUED_USAGETYPE", 198 "dimensions": { 199 "height": 250, 200 "width": 4 201 }, 202 "vizType": "chart", 203 "noUnit": false, 204 "isCollapsible": false, 205 "charts": [ 206 { 207 "id": "actualNocIssuedByUsageType", 208 "name": "DSS_ACTUAL_NOC_ISSUED_USAGETYPE", 209 "code": "", 210 "chartType": "donut", 211 "filter": "", 212 "headers": [] 213 } 214 ] 215 } 216 ] 217 }, 218 { 219 "row": 4, 220 "name": "DSS_OVERVIEW", 221 "vizArray": [ 222 { 223 "id": 321, 224 "name": "DSS_NOC_TOP_3_PERFORMING_ULBS", 225 "dimensions": { 226 "height": 250, 227 "width": 4 228 }, 229 "vizType": "performing-metric", 230 "label": "", 231 "noUnit": false, 232 "isCollapsible": false, 233 "charts": [ 234 { 235 "id": "nocActualTopPerformingUlbs", 236 "name": "DSS_NOC_ACTUAL_TOP_3_PERFORMING_ULBS", 237 "code": "", 238 "chartType": "bar", 239 "filter": "", 240 "headers": [], 241 "tabName":"Actual" 242 }, 243 { 244 "id": "nocProvisionalTopPerformingUlbs", 245 "name": "DSS_NOC_PROVISIONAL_TOP_3_PERFORMING_ULBS", 246 "code": "", 247 "chartType": "bar", 248 "filter": "", 249 "headers": [], 250 "tabName":"Provisional" 251 } 252 ] 253 }, 254 { 255 "id": 322, 256 "name": "DSS_NOC_BOTTOM_3_PERFORMING_ULBS", 257 "dimensions": { 258 "height": 250, 259 "width": 4 260 }, 261 "vizType": "performing-metric", 262 "label": "", 263 "noUnit": false, 264 "isCollapsible": false, 265 "charts": [ 266 { 267 "id": "nocActualBottomPerformingUlbs", 268 "name": "DSS_NOC_ACTUAL_BOTTOM_3_PERFORMING_ULBS", 269 "code": "", 270 "chartType": "bar", 271 "filter": "", 272 "headers": [], 273 "tabName":"Actual" 274 }, 275 { 276 "id": "nocProvisionalBottomPerformingUlbs", 277 "name": "DSS_NOC_PROVISIONAL_BOTTOM_3_PERFORMING_ULBS", 278 "code": "", 279 "chartType": "bar", 280 "filter": "", 281 "headers": [], 282 "tabName":"Provisional" 283 } 284 ] 285 } 286 ] 287 }, 288 { 289 "row": 5, 290 "name": "DSS_OVERVIEW", 291 "vizArray": [ 292 { 293 "id": 231, 294 "name": "Service Report", 295 "dimensions": { 296 "height": 350, 297 "width": 12 298 }, 299 "vizType": "chart", 300 "noUnit": false, 301 "isCollapsible": false, 302 "charts": [ 303 { 304 "id": "nocServiceReportByRegion", 305 "name": "DSS_NOC_SERVICE_REPORT_REGION", 306 "code": "", 307 "chartType": "table", 308 "filter": "", 309 "headers": [], 310 "tabName": "Region" 311 }, 312 { 313 "id": "nocServiceReportByDepartment", 314 "name": "DSS_NOC_SERVICE_REPORT_DEPARTMENT", 315 "code": "", 316 "chartType": "table", 317 "filter": "", 318 "headers": [], 319 "tabName": "Department" 320 } 321 ] 322 } 323 ] 324 } 325 ] 326 }`

&#x20;

[Click here for the complete configuration](https://github.com/egovernments/configs/blob/qa/egov-dss-dashboards/dashboard-analytics/MasterDashboardConfig.json)

**Role Dashboard Mappings Configuration:**

Master Dashboard Configuration which was explained earlier hold the list of Dashboards which are available.

Given the instance where Role Action Mapping is not maintained in the Application Service, this configuration will act as Role - Dashboard Mapping Configuration&#x20;

In this, each Role is mapped against the Dashboard which they are authorized to see

This was used earlier when the Role Action Mapping of eGov was not integrated.

Later, when the Role Action Mapping started controlling the Dashboards to be seen on the client side, this configuration was just used to enable the Dashboards for viewing.&#x20;

`1{ 2 "_comment": "Holds mapping for each role with and its associated dashboards", 3 "roles" : [ 4 { 5 "_comment":"This role is super role which can access all the available dashboards: [other/new roles are suppose to be added]", 6 "roleId": 6, 7 "roleName" : "Admin", 8 "isSuper" : "", 9 "orgId": "", 10 "dashboards": [ 11 { 12 "name": "Fire Noc", 13 "id": "noc" 14 } 15 ] 16 } 17 18 ] 19}`

&#x20;

[Click here to check the configuration](https://github.com/egovernments/configs/blob/qa/egov-dss-dashboards/dashboard-analytics/RoleDashboardMappingsConf.json)

&#x20;**MDMS Configuration to be added:**

_common-masters/uiCommonConstants.json_

`1"State-firenoc":{ 2 "routePath":"/dashboard/noc", 3 "isOrigin":true 4 }`

[Click here to check the complete configuration](https://github.com/egovernments/egov-mdms-data/blob/QA/data/pb/common-masters/uiCommonConstants.json)

roleaction.json

&#x20;

`1{ 2 "rolecode": "STADMIN", 3 "actionid": {{PlaceHolder1}}, 4 "actioncode": "", 5 "tenantId": "pb" 6 }, 7 8 { 9 "rolecode": "STADMIN", 10 "actionid": {{PlaceHolder2}}, 11 "actioncode": "", 12 "tenantId": "pb" 13 }, 14 { 15 "rolecode": "EMPLOYEE", 16 "actionid": {{PlaceHolder2}}, 17 "actioncode": "", 18 "tenantId": "pb" 19 }, 20 { 21 "rolecode": "UC_EMP", 22 "actionid": {{PlaceHolder2}}, 23 "actioncode": "", 24 "tenantId": "pb" 25 },`

[Click here to check the complete configuration](https://github.com/egovernments/egov-mdms-data/blob/QA/data/pb/ACCESSCONTROL-ROLEACTIONS/roleactions.json)

Action test.json:

&#x20;

`1{ 2 "id": {{PlaceHolder1}}, 3 "name": "DSS Dashboard Config noc", 4 "url": "/dashboard-analytics/dashboard/getDashboardConfig/noc", 5 "parentModule": "", 6 "displayName": "DSS", 7 "orderNumber": 0, 8 "enabled": false, 9 "serviceCode": "DSS", 10 "code": "null", 11 "path": "" 12}, 13{ 14 "id": {{PlaceHolder2}}, 15 "url": "url", 16 "displayName": "Firenoc", 17 "orderNumber": 4, 18 "parentModule": "dss-dashboard", 19 "enabled": true, 20 "serviceCode": "DSS", 21 "code": "null", 22 "path": "Dashboard.Firenoc", 23 "navigationURL": "/digit-ui/employee/dss/dashboard/noc", 24 "leftIcon": "places:business-center", 25 "rightIcon": "" 26}`

&#x20;

[Click here to check the complete configuration](https://github.com/egovernments/egov-mdms-data/blob/QA/data/pb/ACCESSCONTROL-ACTIONS-TEST/actions-test.json)

FireNoc-State DSS Consists of multiple graphs which represent the data of FireNoc. Each graph has its own configuration which will describe the chart and its type.

State DSS Consists of following charts in FireNoc:

**FireNoc Page :**

* Overview
* Total Cumulative Collection
* Total applications vs Provisional NOCs issued vs Actual NOCs issued
* Collection by Payment Mode
* Total NOCs issued by type
* Actual Fire NOCs by usage type
* Top 3 Performing States
* Bottom 3 Performing States
* Service Report

**Overview:**

Overview graph contains multiple data information as below in the selected time period.

* **Todayâs Collection :** This represents the sum of revenue collected from issuance of a Provisional and Actual Fire NOC which is Application fee + NOC Issuance fee.
* &#x20;**Total Collection :** Sum of revenue collected from Fire NOC for the applied date filter.
* **Total Applications :** Total number of applications submitted for a new FireNOC.
* **Provisional NOCs Issued :** The Provisional NOC is to be obtained to ensure that the proposed constructions meet the fire safety compliant norms.
* **Actual NOCs Issued :** The Actual NOC is to be obtained to ensure that the proposed constructions meet the fire safety compliant norms.
* **Avg. days to issue Provisional Fire NOC :** Average number of days taken to issue a Provisional NOC.
* **Avg. days to issue Actual Fire NOC :** Average number of days taken to issue a Actual NOC.
* **SLA Compliance (Actual FIre NOC) :** % of Actual NOCs issued within SLA.
* **SLA Compliance (Provisional FIre NOC) :** % of Provisional NOCs issued within SLA.

![](blob:https://digit-discuss.atlassian.net/9e4bd238-f329-42b9-affa-2feb14d26eb1#media-blob-url=true\&id=92cf7fd1-6ad2-4df0-ac7a-e1a8f093f258\&collection=contentId-2131591193\&contextId=2131591193\&height=707\&width=449\&alt=)

&#x20;

**Total Cumulative Collection:**

This Graph contains the Fire NOC collection amount information in the monthly base as a cumulative line graph for each Fire NOC collection separately. This will change as per the denomination amount filter selection.

**line** - this graph/chart is data representation on date histograms or date groupings.

![](blob:https://digit-discuss.atlassian.net/b991e401-2639-45b3-9ce7-994257eb5716#media-blob-url=true\&id=9cf06f20-5456-4afe-9b3e-f8f63eb97410\&collection=contentId-2131591193\&contextId=2131591193\&height=713\&width=1194\&alt=)

&#x20;

**Total applications vs Provisional NOCs issued vs Actual NOCs issued :**

This Graph contains the Fire NOC showing total applications submitted vs provisional NOCs issued vs actual NOCs issued for a given month collection separately. This will change as per the denomination amount filter selection.

**line** - this graph/chart is data representation on date histograms or date groupings.

![](blob:https://digit-discuss.atlassian.net/89f81935-db08-4ee5-a491-589bddd30134#media-blob-url=true\&id=89b0cf65-68fe-4ab4-a6e3-cc6ed31299be\&collection=contentId-2131591193\&contextId=2131591193\&height=431\&width=539\&alt=)

**Collection by Payment Mode :** This will be a pie chart showing bifurcation of total collections by payment mode (online, cash, card, cheque) which is the sum of revenue collected from Fire NOC for the applied date filter.

![](blob:https://digit-discuss.atlassian.net/6cd3f5c4-c3bb-46cf-a895-5c968e76f088#media-blob-url=true\&id=e2730fef-079d-4aec-9962-ff38a6ab9807\&collection=contentId-2131591193\&contextId=2131591193\&height=436\&width=545\&alt=)

&#x20;

**Total NOCs issued by type :** This will be a pie chart showing bifurcation of Total NOCs issued into Provisional and Actual Fire NOCs. Sum of Provisional and Actual Fire NOCs issued.

![](blob:https://digit-discuss.atlassian.net/95e5e152-61bc-4083-ae02-39bbf78b7740#media-blob-url=true\&id=1ef69f1d-83f6-455f-935c-a0a97d6c0905\&collection=contentId-2131591193\&contextId=2131591193\&height=435\&width=541\&alt=)

&#x20;

**Actual Fire NOCs by usage type :** This will be a pie chart showing a bifurcation of Actual Fire NOCs by usage type. Total number of Fire NOCs issued by concerned authority.

![](blob:https://digit-discuss.atlassian.net/688243cb-68a9-4ac6-baf8-dcf074ad73a9#media-blob-url=true\&id=62500dbc-f3ab-4e0a-9418-dd01439fd6b7\&collection=contentId-2131591193\&contextId=2131591193\&height=438\&width=541\&alt=)

&#x20;

**Top 3 Performing States :** This card will show the Top 3 Performing States/ULBs/Wards based on % NOCs issued. Number of Fire NOCs issued / Number of applications depending on whether a user selects 'Provisional' or 'Actual'.

On click of Actual it shows the % of NOCs issued for Actual FireNocs.

![](blob:https://digit-discuss.atlassian.net/52718e20-ddb9-46b5-8797-dc27546f8642#media-blob-url=true\&id=b0cfbe72-0681-4aee-82d7-0dee015d6764\&collection=contentId-2131591193\&contextId=2131591193\&height=441\&width=546\&alt=)

&#x20;

On click of Provisional it shows the % of NOCs issued for Actual FireNocs.

![](blob:https://digit-discuss.atlassian.net/f80a662e-7f19-4aa1-97e5-90a8e52ead9d#media-blob-url=true\&id=4db82c18-78b5-46e6-97de-8556559b4ab1\&collection=contentId-2131591193\&contextId=2131591193\&height=465\&width=551\&alt=)

On click of Show More it shows the information of all the states.

![](blob:https://digit-discuss.atlassian.net/74ef4105-e457-4f8c-b94c-f9c669037a31#media-blob-url=true\&id=a3d3e8e4-579b-4a4f-941c-e30e44548147\&collection=contentId-2131591193\&contextId=2131591193\&height=583\&width=1725\&alt=)

&#x20;

**Bottom 3 Performing States :** This card will show the Bottom 3 Performing States/ULBs/Wards based on % NOCs issued. Number of Fire NOCs issued / Number of applications depending on whether a user selects 'Provisional' or 'Actual'.

On click of Actual it shows the % of NOCs issued for Actual FireNocs.

![](blob:https://digit-discuss.atlassian.net/062b94ee-5e3d-4eb1-9bba-155ce83e6fba#media-blob-url=true\&id=6b02edd1-2fc6-4ce5-bf02-c16a796ed1ee\&collection=contentId-2131591193\&contextId=2131591193\&height=447\&width=548\&alt=)

&#x20;

On click of Provisional it shows the % of NOCs issued for Actual FireNocs.

![](blob:https://digit-discuss.atlassian.net/0fdb0055-f60e-44cb-ad27-d7fbadea8356#media-blob-url=true\&id=efbe953e-829a-49da-8884-79d11a80d127\&collection=contentId-2131591193\&contextId=2131591193\&height=464\&width=557\&alt=)

On click of Show More it shows the information of all the states.

![](blob:https://digit-discuss.atlassian.net/42cbd608-69e5-4d74-ae74-be9f00ed7d93#media-blob-url=true\&id=20103536-ff4d-4aaf-98a6-2c6d40f015a8\&collection=contentId-2131591193\&contextId=2131591193\&height=571\&width=1723\&alt=)

&#x20;

**Service Report :** This tabular chart representation graph shows multiple Fire NOC information like Total Collection, Applications Submitted, Provisional FireNoc issued, New FireNOC Issued, Average days to issue Provisional NOC, SLA Compliance (Provisional NOC), Average days to issue New NOC, SLA Compliance (New NOC). And this table shows the data in state level and also has the drill down chart for each state to ulb and from ulb to ward level data for the same.

xtable type allows to add multiple computed fields with the aggregated fields dynamically added.

To add multiple computed columns,  computedFields \[]  where actionName (IComputedField\<T> interface), fields \[] names as in exist in query key, newField as name to appear for computation must be defined.

![](blob:https://digit-discuss.atlassian.net/eb5fe75d-de29-416f-96cc-acb9d792eecd#media-blob-url=true\&id=6adeb25c-3014-4ddd-ba1a-efef660ec47a\&collection=contentId-2131591193\&contextId=2131591193\&height=357\&width=1663\&alt=)![](blob:https://digit-discuss.atlassian.net/62805cdc-128b-40a7-b728-0e8d7fb87c28#media-blob-url=true\&id=7808a1d5-dbb5-4f6d-862d-6ebaebfa8780\&collection=contentId-2131591193\&contextId=2131591193\&height=413\&width=1662\&alt=)

On click of any region name will enter into drill down charts, which will represents that specific state data.

![](blob:https://digit-discuss.atlassian.net/0c095fde-bc1a-421b-a222-dbd7979f87fa#media-blob-url=true\&id=3c2ad607-1c55-4b9e-a670-569b87a860da\&collection=contentId-2131591193\&contextId=2131591193\&height=371\&width=1663\&alt=)

On click of the ULB will navigate to wards under that specific ULB and each ward shows the specific data regarding that ward.

![](blob:https://digit-discuss.atlassian.net/08de613e-8cc9-4b15-8fb3-d10ba96453be#media-blob-url=true\&id=6823bf8e-c449-462e-a25d-17a5dc8b5454\&collection=contentId-2131591193\&contextId=2131591193\&height=478\&width=1667\&alt=)

&#x20;

#### **Newly introduced property:** <a href="#newly-introduced-property" id="newly-introduced-property"></a>

**isRoundOff**: This property is introduced to round off the decimal values. Ex: if the value is 25.43 by using isRoundOff property in configuration we will get it as 25. if value is 22.56 round of value will be 23.\
This can be used for insights configuration as well for overview graph.

#### Common Properties available: <a href="#common-properties-available" id="common-properties-available"></a>

**Key(eg: fsmTotalrequest) :** This is the Visualization Code. This key will be referred to in further visualization configurations.

This is the key which will be used by the client application to indicate which visualization is needed for display.

**chartName :** The name of the Chart which has to be used as a label on the Dashboard. The name of the Chart will be a detailed name.

In this configuration, the Name of the Chart will be the code of Localization which will be used by Client Side.

**queries :** Some visualizations are derived from a specific data source. While some others are derived from different data sources and are combined together to get a meaningful representation.

The queries of aggregation which are to be used to fetch out the right data in the right aggregated format are configured here.

**queries.module :** The module / domain level, on which the query should be applied on. Fire NOC is FIRENOC.

**queries.indexName :** The name of the index upon which the query has to be executed is configured here.

**queries.aggrQuery :** The aggregation query in itself is added here. Based on the Module and the Index name specified, this query is attached to the filter part of the complete search request and then executed against that index

**queries.requestQueryMap :** Client Request would carry certain fields which are to be filtered. The parameters specified in the Client Request are different from the parameters in each of these indexed documents.

In order to map the parameters of the request to the parameters of the ElasticSearch Document, this mapping is maintained.

**queries.dateRefField :** Each of these modules have separate indexes. And all of them have their own date fields.&#x20;

When there is a date filter applied against these visualizations, each of them has to apply it against their own date reference fields.

In order to maintain what is the date field in which index, we have this configured in this configuration parameter.

**chartType :** As there are different types of visualizations, this field defines what is the type of chart / visualization that this data should be used to represent.&#x20;

**Chart types available are**:

**metric** - this represents the aggregated amount/value for records filter by the aggregate es query&#x20;

**pie** - this represents the aggregated data on grouping. This is can be used to represent any line graph, bar graph, pie chart or donuts

**line** - this graph/chart is data representation on date histograms or date groupings

**perform** - this chart represents groping data as performance wise.

**table** - represents a form of plots and value with headers as grouped on and list of its key, values pairs.&#x20;

**xtable -** represents a advanced feature of table, it has addition capabilities for dynamic adding header values.

**valueType :** In any case of data, the values which are sent to plot, might be a percentage, sometimes an amount and sometimes it is just a count.

In order to represent them and differentiate the numbers from amount from percentage, this field is used to indicate the type of value that this Visualization will be sending.

**action :** Some of the visualizations are not just aggregation on data source. There might be some cases where we have to do a post aggregation computation.

For Example, in the case of Top 3 Performing ULBs, the Target and Total Collection is obtained and then the percentage is calculated. In these kinds of cases, what is the action that has to be performed on that data obtained is defined in this parameter.&#x20;

**documentType :** The type of document upon which the query has to be executed is defined here.&#x20;

**drillChart :** If there is a drill down on the visualization, then the code of the Drill Down Visualization is added here. This will be used by Client Service to manage drill downs.

**aggregationPaths :** All the queries will be having Aggregation names in it. In order to fetch the value out of each Aggregation Responses, the name of the aggregation in the query will be an easy bet. These aggregation paths will have the names of Aggregation in it.

**insights :** It is to show the data with the comparison of last year with arrow symbols, it will show the data in how much % is increased or decreased.&#x20;

**\_comment :** In order to display information on the âiâ symbol of each visualization, Visualization Information is maintained in this field.&#x20;

#### **Index Properties of State FireNoc- Dss:** <a href="#index-properties-of-state-firenoc-dss" id="index-properties-of-state-firenoc-dss"></a>

The index that contains data for State-FireNoc is- _firenoc-services_

The mapping for this index is:

&#x20;

`1"properties" : { 2 "Data" : { 3 "properties" : { 4 "@timestamp" : { 5 "type" : "date" 6 }, 7 "Department" : { 8 "type" : "text", 9 "fields" : { 10 "keyword" : { 11 "type" : "keyword", 12 "ignore_above" : 256 13 } 14 } 15 }, 16 "auditDetails" : { 17 "properties" : { 18 "createdBy" : { 19 "type" : "text", 20 "fields" : { 21 "keyword" : { 22 "type" : "keyword", 23 "ignore_above" : 256 24 } 25 } 26 }, 27 "createdTime" : { 28 "type" : "long" 29 }, 30 "lastModifiedBy" : { 31 "type" : "text", 32 "fields" : { 33 "keyword" : { 34 "type" : "keyword", 35 "ignore_above" : 256 36 } 37 } 38 }, 39 "lastModifiedTime" : { 40 "type" : "long" 41 } 42 } 43 }, 44 "channel" : { 45 "type" : "text", 46 "fields" : { 47 "keyword" : { 48 "type" : "keyword", 49 "ignore_above" : 256 50 } 51 } 52 }, 53 "fireNOCDetails" : { 54 "properties" : { 55 "action" : { 56 "type" : "text", 57 "fields" : { 58 "keyword" : { 59 "type" : "keyword", 60 "ignore_above" : 256 61 } 62 } 63 }, 64 "additionalDetail" : { 65 "properties" : { 66 "assignee" : { 67 "type" : "text", 68 "fields" : { 69 "keyword" : { 70 "type" : "keyword", 71 "ignore_above" : 256 72 } 73 } 74 }, 75 "comment" : { 76 "type" : "text", 77 "fields" : { 78 "keyword" : { 79 "type" : "keyword", 80 "ignore_above" : 256 81 } 82 } 83 }, 84 "documents" : { 85 "properties" : { 86 "documentType" : { 87 "type" : "text", 88 "fields" : { 89 "keyword" : { 90 "type" : "keyword", 91 "ignore_above" : 256 92 } 93 } 94 }, 95 "fileStoreId" : { 96 "type" : "text", 97 "fields" : { 98 "keyword" : { 99 "type" : "keyword", 100 "ignore_above" : 256 101 } 102 } 103 }, 104 "link" : { 105 "type" : "text", 106 "fields" : { 107 "keyword" : { 108 "type" : "keyword", 109 "ignore_above" : 256 110 } 111 } 112 }, 113 "linkText" : { 114 "type" : "text", 115 "fields" : { 116 "keyword" : { 117 "type" : "keyword", 118 "ignore_above" : 256 119 } 120 } 121 }, 122 "name" : { 123 "type" : "text", 124 "fields" : { 125 "keyword" : { 126 "type" : "keyword", 127 "ignore_above" : 256 128 } 129 } 130 }, 131 "tenantId" : { 132 "type" : "text", 133 "fields" : { 134 "keyword" : { 135 "type" : "keyword", 136 "ignore_above" : 256 137 } 138 } 139 }, 140 "title" : { 141 "type" : "text", 142 "fields" : { 143 "keyword" : { 144 "type" : "keyword", 145 "ignore_above" : 256 146 } 147 } 148 } 149 } 150 }, 151 "ownerAuditionalDetail" : { 152 "properties" : { 153 "documents" : { 154 "properties" : { 155 "documentType" : { 156 "type" : "text", 157 "fields" : { 158 "keyword" : { 159 "type" : "keyword", 160 "ignore_above" : 256 161 } 162 } 163 }, 164 "fileStoreId" : { 165 "type" : "text", 166 "fields" : { 167 "keyword" : { 168 "type" : "keyword", 169 "ignore_above" : 256 170 } 171 } 172 }, 173 "tenantId" : { 174 "type" : "text", 175 "fields" : { 176 "keyword" : { 177 "type" : "keyword", 178 "ignore_above" : 256 179 } 180 } 181 } 182 } 183 }, 184 "id" : { 185 "type" : "text", 186 "fields" : { 187 "keyword" : { 188 "type" : "keyword", 189 "ignore_above" : 256 190 } 191 } 192 }, 193 "institutionDesignation" : { 194 "type" : "text", 195 "fields" : { 196 "keyword" : { 197 "type" : "keyword", 198 "ignore_above" : 256 199 } 200 } 201 }, 202 "institutionName" : { 203 "type" : "text", 204 "fields" : { 205 "keyword" : { 206 "type" : "keyword", 207 "ignore_above" : 256 208 } 209 } 210 }, 211 "telephoneNumber" : { 212 "type" : "text", 213 "fields" : { 214 "keyword" : { 215 "type" : "keyword", 216 "ignore_above" : 256 217 } 218 } 219 } 220 } 221 }, 222 "wfDocuments" : { 223 "properties" : { 224 "documentType" : { 225 "type" : "text", 226 "fields" : { 227 "keyword" : { 228 "type" : "keyword", 229 "ignore_above" : 256 230 } 231 } 232 }, 233 "fileName" : { 234 "type" : "text", 235 "fields" : { 236 "keyword" : { 237 "type" : "keyword", 238 "ignore_above" : 256 239 } 240 } 241 }, 242 "fileStoreId" : { 243 "type" : "text", 244 "fields" : { 245 "keyword" : { 246 "type" : "keyword", 247 "ignore_above" : 256 248 } 249 } 250 } 251 } 252 } 253 } 254 }, 255 "applicantDetails" : { 256 "properties" : { 257 "additionalDetail" : { 258 "properties" : { 259 "documents" : { 260 "properties" : { 261 "documentType" : { 262 "type" : "text", 263 "fields" : { 264 "keyword" : { 265 "type" : "keyword", 266 "ignore_above" : 256 267 } 268 } 269 }, 270 "fileStoreId" : { 271 "type" : "text", 272 "fields" : { 273 "keyword" : { 274 "type" : "keyword", 275 "ignore_above" : 256 276 } 277 } 278 }, 279 "tenantId" : { 280 "type" : "text", 281 "fields" : { 282 "keyword" : { 283 "type" : "keyword", 284 "ignore_above" : 256 285 } 286 } 287 } 288 } 289 }, 290 "id" : { 291 "type" : "text", 292 "fields" : { 293 "keyword" : { 294 "type" : "keyword", 295 "ignore_above" : 256 296 } 297 } 298 }, 299 "institutionDesignation" : { 300 "type" : "text", 301 "fields" : { 302 "keyword" : { 303 "type" : "keyword", 304 "ignore_above" : 256 305 } 306 } 307 }, 308 "institutionName" : { 309 "type" : "text", 310 "fields" : { 311 "keyword" : { 312 "type" : "keyword", 313 "ignore_above" : 256 314 } 315 } 316 }, 317 "telephoneNumber" : { 318 "type" : "text", 319 "fields" : { 320 "keyword" : { 321 "type" : "keyword", 322 "ignore_above" : 256 323 } 324 } 325 } 326 } 327 }, 328 "ownerShipMajorType" : { 329 "type" : "text", 330 "fields" : { 331 "keyword" : { 332 "type" : "keyword", 333 "ignore_above" : 256 334 } 335 } 336 }, 337 "ownerShipType" : { 338 "type" : "text", 339 "fields" : { 340 "keyword" : { 341 "type" : "keyword", 342 "ignore_above" : 256 343 } 344 } 345 }, 346 "owners" : { 347 "properties" : { 348 "accountLocked" : { 349 "type" : "boolean" 350 }, 351 "accountLockedDate" : { 352 "type" : "long" 353 }, 354 "active" : { 355 "type" : "boolean" 356 }, 357 "altContactNumber" : { 358 "type" : "text", 359 "fields" : { 360 "keyword" : { 361 "type" : "keyword", 362 "ignore_above" : 256 363 } 364 } 365 }, 366 "correspondenceAddress" : { 367 "type" : "text", 368 "fields" : { 369 "keyword" : { 370 "type" : "keyword", 371 "ignore_above" : 256 372 } 373 } 374 }, 375 "createdBy" : { 376 "type" : "long" 377 }, 378 "createdDate" : { 379 "type" : "long" 380 }, 381 "dob" : { 382 "type" : "long" 383 }, 384 "emailId" : { 385 "type" : "text", 386 "fields" : { 387 "keyword" : { 388 "type" : "keyword", 389 "ignore_above" : 256 390 } 391 } 392 }, 393 "fatherOrHusbandName" : { 394 "type" : "text", 395 "fields" : { 396 "keyword" : { 397 "type" : "keyword", 398 "ignore_above" : 256 399 } 400 } 401 }, 402 "gender" : { 403 "type" : "text", 404 "fields" : { 405 "keyword" : { 406 "type" : "keyword", 407 "ignore_above" : 256 408 } 409 } 410 }, 411 "id" : { 412 "type" : "long" 413 }, 414 "lastModifiedBy" : { 415 "type" : "long" 416 }, 417 "lastModifiedDate" : { 418 "type" : "long" 419 }, 420 "locale" : { 421 "type" : "text", 422 "fields" : { 423 "keyword" : { 424 "type" : "keyword", 425 "ignore_above" : 256 426 } 427 } 428 }, 429 "mobileNumber" : { 430 "type" : "text", 431 "fields" : { 432 "keyword" : { 433 "type" : "keyword", 434 "ignore_above" : 256 435 } 436 } 437 }, 438 "name" : { 439 "type" : "text", 440 "fields" : { 441 "keyword" : { 442 "type" : "keyword", 443 "ignore_above" : 256 444 } 445 } 446 }, 447 "ownerType" : { 448 "type" : "text", 449 "fields" : { 450 "keyword" : { 451 "type" : "keyword", 452 "ignore_above" : 256 453 } 454 } 455 }, 456 "ownerUUID" : { 457 "type" : "text", 458 "fields" : { 459 "keyword" : { 460 "type" : "keyword", 461 "ignore_above" : 256 462 } 463 } 464 }, 465 "permanentAddress" : { 466 "type" : "text", 467 "fields" : { 468 "keyword" : { 469 "type" : "keyword", 470 "ignore_above" : 256 471 } 472 } 473 }, 474 "permanentCity" : { 475 "type" : "text", 476 "fields" : { 477 "keyword" : { 478 "type" : "keyword", 479 "ignore_above" : 256 480 } 481 } 482 }, 483 "permanentPinCode" : { 484 "type" : "text", 485 "fields" : { 486 "keyword" : { 487 "type" : "keyword", 488 "ignore_above" : 256 489 } 490 } 491 }, 492 "pwdExpiryDate" : { 493 "type" : "long" 494 }, 495 "relationship" : { 496 "type" : "text", 497 "fields" : { 498 "keyword" : { 499 "type" : "keyword", 500 "ignore_above" : 256 501 } 502 } 503 }, 504 "roles" : { 505 "properties" : { 506 "code" : { 507 "type" : "text", 508 "fields" : { 509 "keyword" : { 510 "type" : "keyword", 511 "ignore_above" : 256 512 } 513 } 514 }, 515 "name" : { 516 "type" : "text", 517 "fields" : { 518 "keyword" : { 519 "type" : "keyword", 520 "ignore_above" : 256 521 } 522 } 523 }, 524 "tenantId" : { 525 "type" : "text", 526 "fields" : { 527 "keyword" : { 528 "type" : "keyword", 529 "ignore_above" : 256 530 } 531 } 532 } 533 } 534 }, 535 "tenantId" : { 536 "type" : "text", 537 "fields" : { 538 "keyword" : { 539 "type" : "keyword", 540 "ignore_above" : 256 541 } 542 } 543 }, 544 "type" : { 545 "type" : "text", 546 "fields" : { 547 "keyword" : { 548 "type" : "keyword", 549 "ignore_above" : 256 550 } 551 } 552 }, 553 "userName" : { 554 "type" : "text", 555 "fields" : { 556 "keyword" : { 557 "type" : "keyword", 558 "ignore_above" : 256 559 } 560 } 561 }, 562 "useruuid" : { 563 "type" : "text", 564 "fields" : { 565 "keyword" : { 566 "type" : "keyword", 567 "ignore_above" : 256 568 } 569 } 570 }, 571 "uuid" : { 572 "type" : "text", 573 "fields" : { 574 "keyword" : { 575 "type" : "keyword", 576 "ignore_above" : 256 577 } 578 } 579 } 580 } 581 } 582 } 583 }, 584 "applicationNumber" : { 585 "type" : "text", 586 "fields" : { 587 "keyword" : { 588 "type" : "keyword", 589 "ignore_above" : 256 590 } 591 } 592 }, 593 "buildings" : { 594 "properties" : { 595 "applicationDocuments" : { 596 "properties" : { 597 "documentType" : { 598 "type" : "text", 599 "fields" : { 600 "keyword" : { 601 "type" : "keyword", 602 "ignore_above" : 256 603 } 604 } 605 }, 606 "fileStoreId" : { 607 "type" : "text", 608 "fields" : { 609 "keyword" : { 610 "type" : "keyword", 611 "ignore_above" : 256 612 } 613 } 614 }, 615 "id" : { 616 "type" : "text", 617 "fields" : { 618 "keyword" : { 619 "type" : "keyword", 620 "ignore_above" : 256 621 } 622 } 623 }, 624 "tenantId" : { 625 "type" : "text", 626 "fields" : { 627 "keyword" : { 628 "type" : "keyword", 629 "ignore_above" : 256 630 } 631 } 632 } 633 } 634 }, 635 "id" : { 636 "type" : "text", 637 "fields" : { 638 "keyword" : { 639 "type" : "keyword", 640 "ignore_above" : 256 641 } 642 } 643 }, 644 "name" : { 645 "type" : "text", 646 "fields" : { 647 "keyword" : { 648 "type" : "keyword", 649 "ignore_above" : 256 650 } 651 } 652 }, 653 "tenantId" : { 654 "type" : "text", 655 "fields" : { 656 "keyword" : { 657 "type" : "keyword", 658 "ignore_above" : 256 659 } 660 } 661 }, 662 "uoms" : { 663 "properties" : { 664 "active" : { 665 "type" : "boolean" 666 }, 667 "code" : { 668 "type" : "text", 669 "fields" : { 670 "keyword" : { 671 "type" : "keyword", 672 "ignore_above" : 256 673 } 674 } 675 }, 676 "id" : { 677 "type" : "text", 678 "fields" : { 679 "keyword" : { 680 "type" : "keyword", 681 "ignore_above" : 256 682 } 683 } 684 }, 685 "isActiveUom" : { 686 "type" : "boolean" 687 }, 688 "value" : { 689 "type" : "long" 690 } 691 } 692 }, 693 "uomsMap" : { 694 "properties" : { 695 "BUILTUP_AREA" : { 696 "type" : "text", 697 "fields" : { 698 "keyword" : { 699 "type" : "keyword", 700 "ignore_above" : 256 701 } 702 } 703 }, 704 "HEIGHT_OF_BUILDING" : { 705 "type" : "text", 706 "fields" : { 707 "keyword" : { 708 "type" : "keyword", 709 "ignore_above" : 256 710 } 711 } 712 }, 713 "NO_OF_BASEMENTS" : { 714 "type" : "text", 715 "fields" : { 716 "keyword" : { 717 "type" : "keyword", 718 "ignore_above" : 256 719 } 720 } 721 }, 722 "NO_OF_FLOORS" : { 723 "type" : "text", 724 "fields" : { 725 "keyword" : { 726 "type" : "keyword", 727 "ignore_above" : 256 728 } 729 } 730 }, 731 "PLOT_SIZE" : { 732 "type" : "text", 733 "fields" : { 734 "keyword" : { 735 "type" : "keyword", 736 "ignore_above" : 256 737 } 738 } 739 } 740 } 741 }, 742 "usageType" : { 743 "type" : "text", 744 "fields" : { 745 "keyword" : { 746 "type" : "keyword", 747 "ignore_above" : 256 748 } 749 } 750 }, 751 "usageTypeMajor" : { 752 "type" : "text", 753 "fields" : { 754 "keyword" : { 755 "type" : "keyword", 756 "ignore_above" : 256 757 } 758 } 759 } 760 } 761 }, 762 "fireNOCType" : { 763 "type" : "text", 764 "fields" : { 765 "keyword" : { 766 "type" : "keyword", 767 "ignore_above" : 256 768 } 769 } 770 }, 771 "firestationId" : { 772 "type" : "text", 773 "fields" : { 774 "keyword" : { 775 "type" : "keyword", 776 "ignore_above" : 256 777 } 778 } 779 }, 780 "propertyDetails" : { 781 "properties" : { 782 "address" : { 783 "properties" : { 784 "buildingName" : { 785 "type" : "text", 786 "fields" : { 787 "keyword" : { 788 "type" : "keyword", 789 "ignore_above" : 256 790 } 791 } 792 }, 793 "city" : { 794 "type" : "text", 795 "fields" : { 796 "keyword" : { 797 "type" : "keyword", 798 "ignore_above" : 256 799 } 800 } 801 }, 802 "doorNo" : { 803 "type" : "text", 804 "fields" : { 805 "keyword" : { 806 "type" : "keyword", 807 "ignore_above" : 256 808 } 809 } 810 }, 811 "id" : { 812 "type" : "text", 813 "fields" : { 814 "keyword" : { 815 "type" : "keyword", 816 "ignore_above" : 256 817 } 818 } 819 }, 820 "locality" : { 821 "properties" : { 822 "code" : { 823 "type" : "text", 824 "fields" : { 825 "keyword" : { 826 "type" : "keyword", 827 "ignore_above" : 256 828 } 829 } 830 } 831 } 832 }, 833 "pincode" : { 834 "type" : "text", 835 "fields" : { 836 "keyword" : { 837 "type" : "keyword", 838 "ignore_above" : 256 839 } 840 } 841 }, 842 "street" : { 843 "type" : "text", 844 "fields" : { 845 "keyword" : { 846 "type" : "keyword", 847 "ignore_above" : 256 848 } 849 } 850 }, 851 "tenantId" : { 852 "type" : "text", 853 "fields" : { 854 "keyword" : { 855 "type" : "keyword", 856 "ignore_above" : 256 857 } 858 } 859 } 860 } 861 }, 862 "id" : { 863 "type" : "text", 864 "fields" : { 865 "keyword" : { 866 "type" : "keyword", 867 "ignore_above" : 256 868 } 869 } 870 }, 871 "propertyId" : { 872 "type" : "text", 873 "fields" : { 874 "keyword" : { 875 "type" : "keyword", 876 "ignore_above" : 256 877 } 878 } 879 } 880 } 881 }, 882 "status" : { 883 "type" : "text", 884 "fields" : { 885 "keyword" : { 886 "type" : "keyword", 887 "ignore_above" : 256 888 } 889 } 890 } 891 } 892 }, 893 "history" : { 894 "properties" : { 895 "action" : { 896 "type" : "text", 897 "fields" : { 898 "keyword" : { 899 "type" : "keyword", 900 "ignore_above" : 256 901 } 902 } 903 }, 904 "assigner" : { 905 "properties" : { 906 "emailId" : { 907 "type" : "text", 908 "fields" : { 909 "keyword" : { 910 "type" : "keyword", 911 "ignore_above" : 256 912 } 913 } 914 }, 915 "id" : { 916 "type" : "long" 917 }, 918 "mobileNumber" : { 919 "type" : "text", 920 "fields" : { 921 "keyword" : { 922 "type" : "keyword", 923 "ignore_above" : 256 924 } 925 } 926 }, 927 "name" : { 928 "type" : "text", 929 "fields" : { 930 "keyword" : { 931 "type" : "keyword", 932 "ignore_above" : 256 933 } 934 } 935 }, 936 "roles" : { 937 "properties" : { 938 "code" : { 939 "type" : "text", 940 "fields" : { 941 "keyword" : { 942 "type" : "keyword", 943 "ignore_above" : 256 944 } 945 } 946 }, 947 "name" : { 948 "type" : "text", 949 "fields" : { 950 "keyword" : { 951 "type" : "keyword", 952 "ignore_above" : 256 953 } 954 } 955 }, 956 "tenantId" : { 957 "type" : "text", 958 "fields" : { 959 "keyword" : { 960 "type" : "keyword", 961 "ignore_above" : 256 962 } 963 } 964 } 965 } 966 }, 967 "tenantId" : { 968 "type" : "text", 969 "fields" : { 970 "keyword" : { 971 "type" : "keyword", 972 "ignore_above" : 256 973 } 974 } 975 }, 976 "type" : { 977 "type" : "text", 978 "fields" : { 979 "keyword" : { 980 "type" : "keyword", 981 "ignore_above" : 256 982 } 983 } 984 }, 985 "userName" : { 986 "type" : "text", 987 "fields" : { 988 "keyword" : { 989 "type" : "keyword", 990 "ignore_above" : 256 991 } 992 } 993 }, 994 "uuid" : { 995 "type" : "text", 996 "fields" : { 997 "keyword" : { 998 "type" : "keyword", 999 "ignore_above" : 256 1000 } 1001 } 1002 } 1003 } 1004 }, 1005 "assignes" : { 1006 "properties" : { 1007 "emailId" : { 1008 "type" : "text", 1009 "fields" : { 1010 "keyword" : { 1011 "type" : "keyword", 1012 "ignore_above" : 256 1013 } 1014 } 1015 }, 1016 "id" : { 1017 "type" : "long" 1018 }, 1019 "mobileNumber" : { 1020 "type" : "text", 1021 "fields" : { 1022 "keyword" : { 1023 "type" : "keyword", 1024 "ignore_above" : 256 1025 } 1026 } 1027 }, 1028 "name" : { 1029 "type" : "text", 1030 "fields" : { 1031 "keyword" : { 1032 "type" : "keyword", 1033 "ignore_above" : 256 1034 } 1035 } 1036 }, 1037 "roles" : { 1038 "properties" : { 1039 "code" : { 1040 "type" : "text", 1041 "fields" : { 1042 "keyword" : { 1043 "type" : "keyword", 1044 "ignore_above" : 256 1045 } 1046 } 1047 }, 1048 "name" : { 1049 "type" : "text", 1050 "fields" : { 1051 "keyword" : { 1052 "type" : "keyword", 1053 "ignore_above" : 256 1054 } 1055 } 1056 }, 1057 "tenantId" : { 1058 "type" : "text", 1059 "fields" : { 1060 "keyword" : { 1061 "type" : "keyword", 1062 "ignore_above" : 256 1063 } 1064 } 1065 } 1066 } 1067 }, 1068 "tenantId" : { 1069 "type" : "text", 1070 "fields" : { 1071 "keyword" : { 1072 "type" : "keyword", 1073 "ignore_above" : 256 1074 } 1075 } 1076 }, 1077 "type" : { 1078 "type" : "text", 1079 "fields" : { 1080 "keyword" : { 1081 "type" : "keyword", 1082 "ignore_above" : 256 1083 } 1084 } 1085 }, 1086 "userName" : { 1087 "type" : "text", 1088 "fields" : { 1089 "keyword" : { 1090 "type" : "keyword", 1091 "ignore_above" : 256 1092 } 1093 } 1094 }, 1095 "uuid" : { 1096 "type" : "text", 1097 "fields" : { 1098 "keyword" : { 1099 "type" : "keyword", 1100 "ignore_above" : 256 1101 } 1102 } 1103 } 1104 } 1105 }, 1106 "auditDetails" : { 1107 "properties" : { 1108 "createdBy" : { 1109 "type" : "text", 1110 "fields" : { 1111 "keyword" : { 1112 "type" : "keyword", 1113 "ignore_above" : 256 1114 } 1115 } 1116 }, 1117 "createdTime" : { 1118 "type" : "long" 1119 }, 1120 "lastModifiedBy" : { 1121 "type" : "text", 1122 "fields" : { 1123 "keyword" : { 1124 "type" : "keyword", 1125 "ignore_above" : 256 1126 } 1127 } 1128 }, 1129 "lastModifiedTime" : { 1130 "type" : "long" 1131 } 1132 } 1133 }, 1134 "businessId" : { 1135 "type" : "text", 1136 "fields" : { 1137 "keyword" : { 1138 "type" : "keyword", 1139 "ignore_above" : 256 1140 } 1141 } 1142 }, 1143 "businessService" : { 1144 "type" : "text", 1145 "fields" : { 1146 "keyword" : { 1147 "type" : "keyword", 1148 "ignore_above" : 256 1149 } 1150 } 1151 }, 1152 "businesssServiceSla" : { 1153 "type" : "long" 1154 }, 1155 "comment" : { 1156 "type" : "text", 1157 "fields" : { 1158 "keyword" : { 1159 "type" : "keyword", 1160 "ignore_above" : 256 1161 } 1162 } 1163 }, 1164 "documents" : { 1165 "properties" : { 1166 "auditDetails" : { 1167 "properties" : { 1168 "createdBy" : { 1169 "type" : "text", 1170 "fields" : { 1171 "keyword" : { 1172 "type" : "keyword", 1173 "ignore_above" : 256 1174 } 1175 } 1176 }, 1177 "createdTime" : { 1178 "type" : "long" 1179 }, 1180 "lastModifiedBy" : { 1181 "type" : "text", 1182 "fields" : { 1183 "keyword" : { 1184 "type" : "keyword", 1185 "ignore_above" : 256 1186 } 1187 } 1188 }, 1189 "lastModifiedTime" : { 1190 "type" : "long" 1191 } 1192 } 1193 }, 1194 "documentType" : { 1195 "type" : "text", 1196 "fields" : { 1197 "keyword" : { 1198 "type" : "keyword", 1199 "ignore_above" : 256 1200 } 1201 } 1202 }, 1203 "fileStoreId" : { 1204 "type" : "text", 1205 "fields" : { 1206 "keyword" : { 1207 "type" : "keyword", 1208 "ignore_above" : 256 1209 } 1210 } 1211 }, 1212 "id" : { 1213 "type" : "text", 1214 "fields" : { 1215 "keyword" : { 1216 "type" : "keyword", 1217 "ignore_above" : 256 1218 } 1219 } 1220 }, 1221 "tenantId" : { 1222 "type" : "text", 1223 "fields" : { 1224 "keyword" : { 1225 "type" : "keyword", 1226 "ignore_above" : 256 1227 } 1228 } 1229 } 1230 } 1231 }, 1232 "escalated" : { 1233 "type" : "boolean" 1234 }, 1235 "id" : { 1236 "type" : "text", 1237 "fields" : { 1238 "keyword" : { 1239 "type" : "keyword", 1240 "ignore_above" : 256 1241 } 1242 } 1243 }, 1244 "moduleName" : { 1245 "type" : "text", 1246 "fields" : { 1247 "keyword" : { 1248 "type" : "keyword", 1249 "ignore_above" : 256 1250 } 1251 } 1252 }, 1253 "rating" : { 1254 "type" : "long" 1255 }, 1256 "state" : { 1257 "properties" : { 1258 "actions" : { 1259 "properties" : { 1260 "action" : { 1261 "type" : "text", 1262 "fields" : { 1263 "keyword" : { 1264 "type" : "keyword", 1265 "ignore_above" : 256 1266 } 1267 } 1268 }, 1269 "currentState" : { 1270 "type" : "text", 1271 "fields" : { 1272 "keyword" : { 1273 "type" : "keyword", 1274 "ignore_above" : 256 1275 } 1276 } 1277 }, 1278 "nextState" : { 1279 "type" : "text", 1280 "fields" : { 1281 "keyword" : { 1282 "type" : "keyword", 1283 "ignore_above" : 256 1284 } 1285 } 1286 }, 1287 "roles" : { 1288 "type" : "text", 1289 "fields" : { 1290 "keyword" : { 1291 "type" : "keyword", 1292 "ignore_above" : 256 1293 } 1294 } 1295 }, 1296 "tenantId" : { 1297 "type" : "text", 1298 "fields" : { 1299 "keyword" : { 1300 "type" : "keyword", 1301 "ignore_above" : 256 1302 } 1303 } 1304 }, 1305 "uuid" : { 1306 "type" : "text", 1307 "fields" : { 1308 "keyword" : { 1309 "type" : "keyword", 1310 "ignore_above" : 256 1311 } 1312 } 1313 } 1314 } 1315 }, 1316 "applicationStatus" : { 1317 "type" : "text", 1318 "fields" : { 1319 "keyword" : { 1320 "type" : "keyword", 1321 "ignore_above" : 256 1322 } 1323 } 1324 }, 1325 "businessServiceId" : { 1326 "type" : "text", 1327 "fields" : { 1328 "keyword" : { 1329 "type" : "keyword", 1330 "ignore_above" : 256 1331 } 1332 } 1333 }, 1334 "docUploadRequired" : { 1335 "type" : "boolean" 1336 }, 1337 "isStartState" : { 1338 "type" : "boolean" 1339 }, 1340 "isTerminateState" : { 1341 "type" : "boolean" 1342 }, 1343 "sla" : { 1344 "type" : "long" 1345 }, 1346 "state" : { 1347 "type" : "text", 1348 "fields" : { 1349 "keyword" : { 1350 "type" : "keyword", 1351 "ignore_above" : 256 1352 } 1353 } 1354 }, 1355 "tenantId" : { 1356 "type" : "text", 1357 "fields" : { 1358 "keyword" : { 1359 "type" : "keyword", 1360 "ignore_above" : 256 1361 } 1362 } 1363 }, 1364 "uuid" : { 1365 "type" : "text", 1366 "fields" : { 1367 "keyword" : { 1368 "type" : "keyword", 1369 "ignore_above" : 256 1370 } 1371 } 1372 } 1373 } 1374 }, 1375 "stateSla" : { 1376 "type" : "long" 1377 }, 1378 "tenantId" : { 1379 "type" : "text", 1380 "fields" : { 1381 "keyword" : { 1382 "type" : "keyword", 1383 "ignore_above" : 256 1384 } 1385 } 1386 } 1387 } 1388 }, 1389 "id" : { 1390 "type" : "text", 1391 "fields" : { 1392 "keyword" : { 1393 "type" : "keyword", 1394 "ignore_above" : 256 1395 } 1396 } 1397 }, 1398 "tenantData" : { 1399 "properties" : { 1400 "OfficeTimings" : { 1401 "properties" : { 1402 "Mon - Fri" : { 1403 "type" : "text", 1404 "fields" : { 1405 "keyword" : { 1406 "type" : "keyword", 1407 "ignore_above" : 256 1408 } 1409 } 1410 } 1411 } 1412 }, 1413 "address" : { 1414 "type" : "text", 1415 "fields" : { 1416 "keyword" : { 1417 "type" : "keyword", 1418 "ignore_above" : 256 1419 } 1420 } 1421 }, 1422 "city" : { 1423 "properties" : { 1424 "code" : { 1425 "type" : "text", 1426 "fields" : { 1427 "keyword" : { 1428 "type" : "keyword", 1429 "ignore_above" : 256 1430 } 1431 } 1432 }, 1433 "ddrName" : { 1434 "type" : "text", 1435 "fields" : { 1436 "keyword" : { 1437 "type" : "keyword", 1438 "ignore_above" : 256 1439 } 1440 } 1441 }, 1442 "districtCode" : { 1443 "type" : "text", 1444 "fields" : { 1445 "keyword" : { 1446 "type" : "keyword", 1447 "ignore_above" : 256 1448 } 1449 } 1450 }, 1451 "districtName" : { 1452 "type" : "text", 1453 "fields" : { 1454 "keyword" : { 1455 "type" : "keyword", 1456 "ignore_above" : 256 1457 } 1458 } 1459 }, 1460 "districtTenantCode" : { 1461 "type" : "text", 1462 "fields" : { 1463 "keyword" : { 1464 "type" : "keyword", 1465 "ignore_above" : 256 1466 } 1467 } 1468 }, 1469 "latitude" : { 1470 "type" : "float" 1471 }, 1472 "localName" : { 1473 "type" : "text", 1474 "fields" : { 1475 "keyword" : { 1476 "type" : "keyword", 1477 "ignore_above" : 256 1478 } 1479 } 1480 }, 1481 "longitude" : { 1482 "type" : "float" 1483 }, 1484 "municipalityName" : { 1485 "type" : "text", 1486 "fields" : { 1487 "keyword" : { 1488 "type" : "keyword", 1489 "ignore_above" : 256 1490 } 1491 } 1492 }, 1493 "name" : { 1494 "type" : "text", 1495 "fields" : { 1496 "keyword" : { 1497 "type" : "keyword", 1498 "ignore_above" : 256 1499 } 1500 } 1501 }, 1502 "regionCode" : { 1503 "type" : "text", 1504 "fields" : { 1505 "keyword" : { 1506 "type" : "keyword", 1507 "ignore_above" : 256 1508 } 1509 } 1510 }, 1511 "regionName" : { 1512 "type" : "text", 1513 "fields" : { 1514 "keyword" : { 1515 "type" : "keyword", 1516 "ignore_above" : 256 1517 } 1518 } 1519 }, 1520 "ulbGrade" : { 1521 "type" : "text", 1522 "fields" : { 1523 "keyword" : { 1524 "type" : "keyword", 1525 "ignore_above" : 256 1526 } 1527 } 1528 } 1529 } 1530 }, 1531 "code" : { 1532 "type" : "text", 1533 "fields" : { 1534 "keyword" : { 1535 "type" : "keyword", 1536 "ignore_above" : 256 1537 } 1538 } 1539 }, 1540 "contactNumber" : { 1541 "type" : "text", 1542 "fields" : { 1543 "keyword" : { 1544 "type" : "keyword", 1545 "ignore_above" : 256 1546 } 1547 } 1548 }, 1549 "description" : { 1550 "type" : "text", 1551 "fields" : { 1552 "keyword" : { 1553 "type" : "keyword", 1554 "ignore_above" : 256 1555 } 1556 } 1557 }, 1558 "domainUrl" : { 1559 "type" : "text", 1560 "fields" : { 1561 "keyword" : { 1562 "type" : "keyword", 1563 "ignore_above" : 256 1564 } 1565 } 1566 }, 1567 "emailId" : { 1568 "type" : "text", 1569 "fields" : { 1570 "keyword" : { 1571 "type" : "keyword", 1572 "ignore_above" : 256 1573 } 1574 } 1575 }, 1576 "facebookUrl" : { 1577 "type" : "text", 1578 "fields" : { 1579 "keyword" : { 1580 "type" : "keyword", 1581 "ignore_above" : 256 1582 } 1583 } 1584 }, 1585 "imageId" : { 1586 "type" : "text", 1587 "fields" : { 1588 "keyword" : { 1589 "type" : "keyword", 1590 "ignore_above" : 256 1591 } 1592 } 1593 }, 1594 "logoId" : { 1595 "type" : "text", 1596 "fields" : { 1597 "keyword" : { 1598 "type" : "keyword", 1599 "ignore_above" : 256 1600 } 1601 } 1602 }, 1603 "name" : { 1604 "type" : "text", 1605 "fields" : { 1606 "keyword" : { 1607 "type" : "keyword", 1608 "ignore_above" : 256 1609 } 1610 } 1611 }, 1612 "pincode" : { 1613 "type" : "long" 1614 }, 1615 "twitterUrl" : { 1616 "type" : "text", 1617 "fields" : { 1618 "keyword" : { 1619 "type" : "keyword", 1620 "ignore_above" : 256 1621 } 1622 } 1623 }, 1624 "type" : { 1625 "type" : "text", 1626 "fields" : { 1627 "keyword" : { 1628 "type" : "keyword", 1629 "ignore_above" : 256 1630 } 1631 } 1632 } 1633 } 1634 }, 1635 "tenantId" : { 1636 "type" : "text", 1637 "fields" : { 1638 "keyword" : { 1639 "type" : "keyword", 1640 "ignore_above" : 256 1641 } 1642 } 1643 }, 1644 "ward" : { 1645 "properties" : { 1646 "boundaryNum" : { 1647 "type" : "long" 1648 }, 1649 "children" : { 1650 "properties" : { 1651 "area" : { 1652 "type" : "text", 1653 "fields" : { 1654 "keyword" : { 1655 "type" : "keyword", 1656 "ignore_above" : 256 1657 } 1658 } 1659 }, 1660 "boundaryNum" : { 1661 "type" : "long" 1662 }, 1663 "code" : { 1664 "type" : "text", 1665 "fields" : { 1666 "keyword" : { 1667 "type" : "keyword", 1668 "ignore_above" : 256 1669 } 1670 } 1671 }, 1672 "label" : { 1673 "type" : "text", 1674 "fields" : { 1675 "keyword" : { 1676 "type" : "keyword", 1677 "ignore_above" : 256 1678 } 1679 } 1680 }, 1681 "name" : { 1682 "type" : "text", 1683 "fields" : { 1684 "keyword" : { 1685 "type" : "keyword", 1686 "ignore_above" : 256 1687 } 1688 } 1689 }, 1690 "pincode" : { 1691 "type" : "long" 1692 } 1693 } 1694 }, 1695 "code" : { 1696 "type" : "text", 1697 "fields" : { 1698 "keyword" : { 1699 "type" : "keyword", 1700 "ignore_above" : 256 1701 } 1702 } 1703 }, 1704 "label" : { 1705 "type" : "text", 1706 "fields" : { 1707 "keyword" : { 1708 "type" : "keyword", 1709 "ignore_above" : 256 1710 } 1711 } 1712 }, 1713 "name" : { 1714 "type" : "text", 1715 "fields" : { 1716 "keyword" : { 1717 "type" : "keyword", 1718 "ignore_above" : 256 1719 } 1720 } 1721 } 1722 } 1723 } 1724 } 1725 } 1726 }`

#### API List <a href="#api-list" id="api-list"></a>

| <h4 id="title"><strong>Title</strong> </h4> | **Link**                                                                                                                    |
| ------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| _firenoc-services/v1/\_create_              |  [https://www.getpostman.com/collections/093e28bb4e341770b6c7](https://www.getpostman.com/collections/093e28bb4e341770b6c7) |
| _firenoc-services/v1/\_search_              |  [https://www.getpostman.com/collections/093e28bb4e341770b6c7](https://www.getpostman.com/collections/093e28bb4e341770b6c7) |
| _firenoc-services/v1/\_update_              |  [https://www.getpostman.com/collections/093e28bb4e341770b6c7](https://www.getpostman.com/collections/093e28bb4e341770b6c7) |

_(Note: All the APIâs are in the same postman collection therefore same link is added in each row)_

&#x20;
